1) DevCenter 사용하기
이번 절에서는 xingAPI의 XAQuery와 XAReal 클래스를 이용해 서버로부터 데이터를 받아오는 기본적인 API를 배워보겠습니다.

이베스트투자증권에서는 DevCenter라는 xingAPI 테스트 및 디버깅 환경을 제공합니다. 이번 절에서는 파이썬에서 xingAPI를 사용하기에 앞서 DevCenter를 통해 API를 테스트해보겠습니다. 그림 11.16과 같이 DevCenter를 실행하고 ID, 비밀번호, 공인인증 비밀번호 등을 입력한 후 접속합니다.

DevCenter에 정상적으로 로그인했다면 그림 11.17과 같이 Res 파일 다운로드 버튼을 눌러 Res 파일을 컴퓨터로 다운로드합니다. 참고로 Res 파일을 다운로드하는 것은 DevCenter를 설치한 후 한 번만 하면 됩니다.

Res 파일은 C:\eBest\xingAPI\Res 경로와 같이 eBest의 xingAPI가 설치된 디렉터리로 다운로드됩니다. 참고로 Res 파일은 xingAPI가 제공하는 메서드의 구조를 표현하는 파일입니다. Res 파일이 궁금하신 분들은 메모장과 같은 프로그램으로 Res 파일을 열어보기 바랍니다.

xingAPI 개발 가이드를 보면 xingAPI에서는 TR(Transaction)이라는 용어를 자주 사용합니다. xingAPI에서 TR이라는 용어는 ‘서버로부터 데이터를 주고받는 행위’를 의미합니다. 예를 들어, 특정 종목의 종목 코드를 입력해서 서버로부터 현재가를 받아오는 것도 TR이고, 계좌 번호를 입력해서 계좌의 잔고를 받아오는 것도 TR입니다.

DevCenter를 이용해 주식 종목의 현재가를 조회하는 't1102'를 테스트해보기 위해 그림 11.19와 같이 DevCenter에서 t1102를 선택한 후 [TR 확인 창] 버튼을 클릭합니다.

t1102는 주식의 현재가를 조회하는 데 사용되며 t1102와 같은 것을 TR 코드라고 합니다. xingAPI에는 기능에 따라 수많은 TR 코드가 존재합니다.

그림 11.20과 같이 t1102 TR 코드에 대한 TR 확인 창이 나타나면 shcode에 078020을 입력한 후 [조회] 버튼을 클릭합니다. [조회] 버튼을 클릭하면 Out Block이라고 표시된 부분에 이베스트투자증권의 종목 한글명, 등락율, 현재가, 상한가, 하한가 등 여러 데이터가 출력되는 것을 확인할 수 있습니다.

